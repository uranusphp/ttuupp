<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">

    <title>Poem [fetch]</title>

    <style>
      html, pre {
        font-family: sans-serif;
      }

      body {
       
        margin: 0 auto;
        background-color: #ccc;
      }

      pre {
        line-height: 1.5;
        letter-spacing: 0.05rem;
        padding: 1rem;
        background-color: white;
      }

      label {
        
        margin-right: 33px;
      }

      select {
        
        padding: 5px;
      }

    </style>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>
    <h1>Poem [Fetch]</h1>

    <form>
      <label for="verse-choose">Choose a verse</label>
      <select id="verse-choose" name="verse-choose">
       
      </select>
    </form>

    <h2>The Conqueror Worm, <em>Edgar Allen Poe, 1843</em></h2>

    <pre>

    </pre>

    <script>

      function Poem() {
        this.verse1 = "https://raw.githubusercontent.com/mdn/learning-area/master/javascript/apis/fetching-data/verse1.txt";
        this.verse2 = "https://raw.githubusercontent.com/mdn/learning-area/master/javascript/apis/fetching-data/verse2.txt";
        this.verse3 = "https://raw.githubusercontent.com/mdn/learning-area/master/javascript/apis/fetching-data/verse3.txt";
        this.verse4 = "https://raw.githubusercontent.com/mdn/learning-area/master/javascript/apis/fetching-data/verse4.txt";
          }
      
      var poem1 = new Poem();
      var verseChoose = document.querySelector('select');
      for (i=1; i<5; i++) {
      var opt = document.createElement('option');
      opt.textContent= 'verse' + i
        verseChoose.appendChild(opt);
        }
var poemDisplay = document.querySelector('pre');
var verse = verseChoose.value;
verseChoose.onchange = function(verse) {
 verse = verseChoose.value;
 updateDisplay(verse, poem1);
};
      
   function updateDisplay(verse) {
     
     var url = poem1[verse];
     
     
     fetch(url).then(function(response) {
  return response.text()
}).then(function(text) {
  poemDisplay.textContent = text;
});
     }
      
     updateDisplay(verse, poem1);

     document.body.style.width = winodow.innerWidth + 'px';
        window.addEventListener("load", function(e) {
    document.title = 't';
    });
    </script>
  </body>
</html>
